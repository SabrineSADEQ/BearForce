<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<h:outputStylesheet library="css" name="main/spaceStyle.css" />
	<h:outputStylesheet library="css" name="main/spaceHeader.css" />
</h:head>

<h:body>
	<div class="header">
		<div class="left-container">
			<div class="logoContainer">
					LOGO

			</div>
			<!-- Burger Menu Button for small screens 
        <p:commandButton id="burgerMenu" icon="pi pi-bars"
            styleClass="burger-menu p-d-md-none" />-->

			<div id="navLinks">
				<p:menubar id="spaceMenuBar">
					<p:menuitem class="link-menu" value="Accueil" outcome="spaceIndex" />
					<p:submenu label="Nos services">
						<p:menuitem value="Nos cours" />
						<p:menuitem value="Nos coachs" />
						<p:menuitem value="Nos équipements" />
					</p:submenu>
					<p:menuitem class="link-menu" value="Planning des cours" />
					<p:menuitem class="link-menu" value="Abonnements" />
					<p:menuitem class="link-menu" value="Contact"
						outcome="spaceContact" />

				</p:menubar>
				<p:button class="rightButton" value="Tableau de bord"
					outcome="spaceAdminDashboard" icon="pi pi-chevron-right"
					iconPos="right"
					rendered="#{loginController.getLoggedAccount().role eq 'GESTIONNAIRE'}" />
				<p:button class="rightButton" value="Tableau de bord"
					outcome="spaceCoachDashboard" icon="pi pi-chevron-right"
					iconPos="right"
					rendered="#{loginController.getLoggedAccount().role eq 'COACH'}" />
				<p:button class="rightButton" value="Mon espace personnel"
					outcome="testSpaceTemplate" icon="pi pi-chevron-right"
					iconPos="right"
					rendered="#{loginController.getLoggedAccount().role eq 'ADHERENT'}" />
			</div>
		</div>
		<!-- Login and logout buttons depending on the connexion status of the user -->
		<div class="right-container">
			<!-- Login and logout buttons depending on the connexion status of the user -->
			<h:form>

				<ui:fragment rendered="#{loginController.loggedIn}">
					<p:commandButton id="logout-button" value="Déconnexion"
						action="#{loginController.logout()}" />
				</ui:fragment>
				<ui:fragment rendered="#{not loginController.loggedIn}">
					<p:commandButton value="Connexion" type="button"
						onclick="PF('dlg3').show()" />
				</ui:fragment>
			</h:form>
			<p:button id="BF-button" icon="pi pi-chevron-right" iconPos="right"
				value="BearForce" outcome="index" />
				
			<!-- Login pop up -->
			<p:dialog header="Connexion" widgetVar="dlg3" minHeight="40" width="350"
				showEffect="fade">
				<p class="m-0">
					<h:form>

						<div>
							<h:outputLabel for="email">Email</h:outputLabel>
							<h:inputText id="email"
								value="#{loginController.accountVM.email}" required="true" />
						</div>

						<div>
							<h:outputLabel for="password">Mot de passe</h:outputLabel>
							<h:inputSecret id="password"
								value="#{loginController.accountVM.password}" required="true" />
						</div>

						<h:commandButton value="Login"
							action="#{loginController.validateAccount}" />
					</h:form>
				</p>
				<f:facet name="footer">
					<p:commandButton type="button" value="Se connecter" action="#{loginController.validateAccount}" style="width:8rem" />
				</f:facet>
			</p:dialog>
		</div>
	</div>

	<!-- Script for toggling the menu -->
	<h:outputScript library="js" name="responsive.js" />
</h:body>
</html>
